{
  "openapi": "3.0.1",
  "info": {
    "title": "AgDxAPI",
    "description": "AgDxAPI facilitates sharing of crop pest and disease data between platforms and/or by providing links between complementary ICT tools where appropriate.",
    "license": {
      "name": "Apache 2.0",
      "url": "http://springdoc.org"
    },
    "version": "1.0.0"
  },
  "externalDocs": {
    "description": "AgDxAPI Wiki Documentation",
    "url": "https://springshop.wiki.github.org/docs"
  },
  "servers": [
    {
      "url": "http://localhost:9100",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "Crop disease data",
      "description": "Operations pertaining crop disease data"
    },
    {
      "name": "Crop pest data",
      "description": "Operations pertaining crop pest data"
    }
  ],
  "paths": {
    "/api/v1/pest": {
      "get": {
        "tags": [
          "Crop pest data"
        ],
        "summary": "Return list of all pests",
        "operationId": "getPestData",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PagePestDataDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "api": []
          }
        ]
      },
      "post": {
        "tags": [
          "Crop pest data"
        ],
        "summary": "Add new pest",
        "operationId": "addPestData",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PestDataDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PestDataDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "api": []
          }
        ]
      }
    },
    "/api/v1/disease": {
      "get": {
        "tags": [
          "Crop disease data"
        ],
        "summary": "Return list of all diseases",
        "operationId": "getPestData_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageDiseaseDataDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "api": []
          }
        ]
      },
      "post": {
        "tags": [
          "Crop disease data"
        ],
        "summary": "Add new diseases record",
        "operationId": "addPestData_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DiseaseDataDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/DiseaseDataDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "api": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ImageDto": {
        "type": "object",
        "properties": {
          "imageUrl": {
            "type": "string",
            "description": "Image http links",
            "example": "https://placehold.co/600x400/000000/FFFFFF/png"
          }
        }
      },
      "PestDataDto": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "description": "GPS lat",
            "example": 36.821945
          },
          "lon": {
            "type": "number",
            "description": "GPS lon",
            "example": -1.292066
          },
          "alt": {
            "type": "number",
            "description": "Identification Altitude above sea level",
            "example": 1200
          },
          "accuracy": {
            "type": "number",
            "description": "Accuracy of GPS location in meters",
            "example": 1
          },
          "countryCode": {
            "maxLength": 2,
            "minLength": 2,
            "type": "string",
            "description": "Country code of the identification: ISO2",
            "example": "KE"
          },
          "countryName": {
            "type": "string",
            "description": "Country of the identification",
            "example": "Kenya"
          },
          "locationLevel1": {
            "type": "string",
            "description": "Administrative level one; Province,district,region",
            "example": "Western Province"
          },
          "locationLevel2": {
            "type": "string",
            "description": "Administrative level two; municipality,district",
            "example": "Kakamega"
          },
          "dateReported": {
            "type": "string",
            "description": "Date when occurrence was first reported",
            "format": "date",
            "example": "2021-01-13"
          },
          "dateUpdated": {
            "type": "string",
            "description": "Date when occurrence was updated",
            "format": "date",
            "example": "2021-01-13"
          },
          "dateReviewed": {
            "type": "string",
            "description": "Date when occurrence was reviewed",
            "format": "date",
            "example": "2021-01-13"
          },
          "ontologyName": {
            "type": "string",
            "description": "Common ontology name",
            "example": "Banana"
          },
          "commonName": {
            "type": "string",
            "description": "Common pest name",
            "example": "Banana weevil borer"
          },
          "scientificName": {
            "type": "string",
            "description": "Scientific pest name",
            "example": "Cosmopolites sordidus"
          },
          "areaSampled": {
            "type": "number",
            "description": "Size of land sampled",
            "example": 2
          },
          "affectedArea": {
            "type": "number",
            "description": "Size of land affected",
            "example": 1.5
          },
          "areaUnit": {
            "type": "string",
            "description": "Land measurement unit",
            "example": "ha"
          },
          "sampleSource": {
            "type": "string",
            "description": "Where the sample was obtained",
            "example": "Field"
          },
          "sampleDesc": {
            "type": "string",
            "description": "Description of sample type",
            "example": "Banana stems"
          },
          "sampleSize": {
            "type": "integer",
            "description": "Sample size",
            "format": "int32",
            "example": 200
          },
          "affectedSampleSize": {
            "type": "integer",
            "description": "Sample size",
            "format": "int32",
            "example": 200
          },
          "severity": {
            "type": "integer",
            "description": "Severity of occurrence",
            "format": "int32",
            "example": 4
          },
          "occurrenceStatus": {
            "type": "string",
            "description": "Status of occurrence",
            "example": "Detected"
          },
          "comments": {
            "type": "string",
            "description": "Comments",
            "example": "Adult weevils are about 10-12mm long, hard shelled and have the pronounced snout typical of weevils"
          },
          "identificationMethod": {
            "type": "string",
            "description": "Identification method",
            "example": "Visual"
          },
          "dataCollectionMethod": {
            "type": "string",
            "description": "Data collection method",
            "example": "Field visit"
          },
          "visuallyIdentified": {
            "type": "boolean",
            "description": "Visually identified",
            "example": true
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageDto"
            }
          },
          "identifiedBy": {
            "type": "string",
            "description": "Identified by",
            "example": "John Doe"
          },
          "location_level3": {
            "type": "string",
            "description": "Administrative level three; city,town or farm name",
            "example": "Shianda"
          }
        }
      },
      "DiseaseDataDto": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "description": "GPS lat",
            "example": 36.821945
          },
          "lon": {
            "type": "number",
            "description": "GPS lon",
            "example": -1.292066
          },
          "alt": {
            "type": "number",
            "description": "Identification Altitude above sea level",
            "example": 1200
          },
          "accuracy": {
            "type": "number",
            "description": "Accuracy of GPS location in meters",
            "example": 1
          },
          "countryCode": {
            "maxLength": 2,
            "minLength": 2,
            "type": "string",
            "description": "Country code of the identification: ISO2",
            "example": "KE"
          },
          "countryName": {
            "type": "string",
            "description": "Country of the identification",
            "example": "Kenya"
          },
          "locationLevel1": {
            "type": "string",
            "description": "Administrative level one; Province,district,region",
            "example": "Western Province"
          },
          "locationLevel2": {
            "type": "string",
            "description": "Administrative level two; municipality,district",
            "example": "Kakamega"
          },
          "dateReported": {
            "type": "string",
            "description": "Date when occurrence was first reported",
            "format": "date",
            "example": "2021-01-13"
          },
          "dateUpdated": {
            "type": "string",
            "description": "Date when occurrence was updated",
            "format": "date",
            "example": "2021-01-13"
          },
          "dateReviewed": {
            "type": "string",
            "description": "Date when occurrence was reviewed",
            "format": "date",
            "example": "2021-01-13"
          },
          "ontologyName": {
            "type": "string",
            "description": "Common ontology name",
            "example": "Banana"
          },
          "commonName": {
            "type": "string",
            "description": "Common disease name",
            "example": "BXW"
          },
          "scientificName": {
            "type": "string",
            "description": "Scientific pest name",
            "example": "Xanthomonas wilt of banana"
          },
          "areaSampled": {
            "type": "number",
            "description": "Size of land sampled",
            "example": 2
          },
          "affectedArea": {
            "type": "number",
            "description": "Size of land affected",
            "example": 1.5
          },
          "areaUnit": {
            "type": "string",
            "description": "Land measurement unit",
            "example": "ha"
          },
          "sampleSource": {
            "type": "string",
            "description": "Where the sample was obtained",
            "example": "Field"
          },
          "sampleDesc": {
            "type": "string",
            "description": "Description of sample type",
            "example": "Banana stems"
          },
          "sampleSize": {
            "type": "integer",
            "description": "Sample size",
            "format": "int32",
            "example": 50
          },
          "affectedSampleSize": {
            "type": "integer",
            "description": "Sample size",
            "format": "int32",
            "example": 48
          },
          "severity": {
            "type": "integer",
            "description": "Severity of occurrence",
            "format": "int32",
            "example": 4
          },
          "occurrenceStatus": {
            "type": "string",
            "description": "Status of occurrence",
            "example": "Detected"
          },
          "comments": {
            "type": "string",
            "description": "Comments",
            "example": "Symptoms of BXW are progressive yellowing, withering and necrosis of leaves;"
          },
          "identificationMethod": {
            "type": "string",
            "description": "Identification method",
            "example": "Visual"
          },
          "dataCollectionMethod": {
            "type": "string",
            "description": "Data collection method",
            "example": "Field visit"
          },
          "visuallyIdentified": {
            "type": "boolean",
            "description": "Visually identified",
            "example": true
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageDto"
            }
          },
          "identifiedBy": {
            "type": "string",
            "description": "Identified by",
            "example": "John Doe"
          },
          "location_level3": {
            "type": "string",
            "description": "Administrative level three; city,town or farm name",
            "example": "Shianda"
          }
        }
      },
      "PagePestDataDto": {
        "type": "object",
        "properties": {
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PestDataDto"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sort"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageable"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "$ref": "#/components/schemas/Sort"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "unpaged": {
            "type": "boolean"
          },
          "paged": {
            "type": "boolean"
          }
        }
      },
      "Sort": {
        "type": "object",
        "properties": {
          "sorted": {
            "type": "boolean"
          },
          "unsorted": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PageDiseaseDataDto": {
        "type": "object",
        "properties": {
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DiseaseDataDto"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sort"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageable"
          },
          "empty": {
            "type": "boolean"
          }
        }
      }
    },
    "securitySchemes": {
      "api": {
        "type": "http",
        "in": "header",
        "scheme": "basic"
      }
    }
  }
}